{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport '../styles/tour-details.css';\nimport { Container, Row, Col, Form, ListGroup } from 'reactstrap';\nimport { useParams } from 'react-router-dom';\nimport calculateAvgRating from '../utils/avgRating';\nimport avatar from '../assets/images/avatar.jpg';\nimport Booking from '../components/Booking/Booking';\nimport Newsletter from './../shared/Newsletter';\nimport useFetch from './../hooks/useFetch';\nimport { BASE_URL } from './../utils/config';\nconst TourDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const reviewMsgRef = useRef('');\n  const {\n    tourRating,\n    setTourRating\n  } = useState(null);\n\n  // fetch data from database\n  const {\n    data: tour,\n    loading,\n    error\n  } = useFetch(`${BASE_URL}/tours/${id}`);\n  // const tour = response?.data || [];\n  console.log(\"TPES\" + tour);\n  const {\n    photo,\n    title,\n    desc,\n    fasilitas,\n    price,\n    address,\n    reviews,\n    city,\n    distance,\n    maxGroupSize\n  } = tour;\n  const {\n    totalRating,\n    avgRating\n  } = calculateAvgRating(reviews);\n\n  //FORMAT DATE\n\n  const options = {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  };\n\n  // submit request to the server\n  const submitHandler = e => {\n    e.preventDefault();\n    const reviewText = reviewMsgRef.current.value;\n\n    // later \n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  // return (\n  //   <>\n  //     <section>\n  //       <Container>\n  //         {loading && <h4 className=\"text-center\">Loading. . . . . .</h4> }\n  //         { error && <h4 className=\"text-center\">{error}</h4>}\n  //         {!loading && !error &&         \n  //       <Row>\n  //         <Col lg=\"8\">\n  //           <div className=\"tour__content\">\n  //             <img src={photo} alt={title} />\n\n  //             <div className=\"tour__info\">\n  //               <h1>{title}</h1>\n\n  //               <div className=\"d-flex align-items-center gap-5\">\n  //                 <span className=\"tour__rating d-flex align-items-center gap-1\">\n  //                   <i className=\"ri-star-fill\" style={{ color: \"var(--secondary-color)\" }}></i>\n  //                   {avgRating === 0 ? null : avgRating}\n  //                   {totalRating === 0 ? (\"Not rated\") : (<span>({reviews.length})</span>)}\n  //                 </span>\n\n  //                 <span>\n  //                   <i className=\"ri-map-pin-user-fill\"></i> {address}\n  //                 </span>\n  //               </div>\n\n  //               <div className=\"tour__extra-details\">\n  //                 <span>\n  //                   <i className=\"ri-map-pin-2-line\"></i> {city}\n  //                 </span>\n  //                 <span>\n  //                   <i className=\"ri-wallet-3-line\"></i> {price} /pax\n  //                 </span>\n  //                 <span>\n  //                   <i className=\"ri-group-line\"></i> {maxGroupSize}\n  //                 </span>\n  //               </div>\n  //               <h5>Destinasi dan Fasilitas</h5>\n  //               <p>{desc}</p>\n  //               <p>{fasilitas}</p>\n  //             </div>\n\n  //             {/*============ tour reviews section ============ */}\n  //             <div className=\"tour__reviews mt-4\">\n  //               <h4>Reviews ({reviews?.length} reviews)</h4>\n\n  //               <Form onSubmit={submitHandler}>\n  //                 <div className='d-flex align-items-center gap-3 mb-4 rating__group'>\n  //                   <span onClick={()=> setTourRating(1)}>\n  //                     1 <i className=\"ri-star-fill\"></i></span>\n  //                   <span onClick={()=> setTourRating(2)}>\n  //                     2 <i className=\"ri-star-fill\"></i></span>\n  //                   <span onClick={()=> setTourRating(3)}>\n  //                     3 <i className=\"ri-star-fill\"></i></span>\n  //                   <span onClick={()=> setTourRating(4)}>\n  //                     4 <i className=\"ri-star-fill\"></i></span>\n  //                   <span onClick={()=> setTourRating(5)}>\n  //                     5 <i className=\"ri-star-fill\"></i></span>\n  //                 </div>\n\n  //                 <div className=\"review__input-container\">\n  //                   <input className=\"review__input\" type=\"text\" ref={reviewMsgRef} placeholder=\"Tulis pengalamanmu bersama Voyago\" \n  //                   required />\n  //                   <div className=\"btn-container\">\n  //                     <button className=\"btn primary__btn text-white\" type=\"submit\">\n  //                       Submit\n  //                     </button>\n  //                   </div>\n  //                 </div>\n  //               </Form>\n\n  //               <ListGroup className=\"user__reviews\">\n  //                 {reviews?.map(review => (\n  //                   <div className=\"review__item\">\n  //                     <img src={avatar} alt=\"\" />\n\n  //                     <div className=\"w-100\">\n  //                       <div className=\"d-flex align-items-center justify-content-between\">\n  //                         <div>\n  //                           <h5>Radika</h5>\n  //                           <p>{new Date('01-20-2023').toLocaleDateString(\"en-US\",options)}</p>\n  //                         </div>\n  //                         <span className='d-flex align-items-center'>\n  //                         5 <i className=\"ri-star-fill\"></i>\n  //                         </span>\n  //                       </div>\n\n  //                       <h6>\n  //                         Pengalaman yang seru liburan bersama VoyaGo!\n  //                       </h6>\n  //                     </div>\n  //                   </div>\n  //                 ))}\n  //               </ListGroup>\n  //             </div>\n  //             {/*============ tour reviews section ============ */}\n  //           </div>\n  //         </Col>\n\n  //         <Col lg='4'>\n  //           <Booking tour = {tour} avgRating = {avgRating}/>\n\n  //         </Col>\n  //       </Row>\n  //       }\n  //       </Container>\n  //     </section>\n  //     <Newsletter />\n  //   </>\n  // );\n};\n_s(TourDetails, \"CybIv04iVRQlPu36EJyIaCC/vEk=\", false, function () {\n  return [useParams, useFetch];\n});\n_c = TourDetails;\nexport default TourDetails;\nvar _c;\n$RefreshReg$(_c, \"TourDetails\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","calculateAvgRating","avatar","Booking","Newsletter","useFetch","BASE_URL","TourDetails","id","reviewMsgRef","tourRating","setTourRating","data","tour","loading","error","console","log","photo","title","desc","fasilitas","price","address","reviews","city","distance","maxGroupSize","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDefault","reviewText","current","value","window","scrollTo"],"sources":["/home/krossmanzs/Programming/tour-management/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React, {useEffect, useRef, useState}from 'react';\r\nimport '../styles/tour-details.css';\r\nimport { Container, Row, Col, Form, ListGroup } from 'reactstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport calculateAvgRating from '../utils/avgRating';\r\nimport avatar from '../assets/images/avatar.jpg';\r\nimport Booking from '../components/Booking/Booking';\r\nimport Newsletter from './../shared/Newsletter';\r\nimport useFetch from './../hooks/useFetch';\r\nimport { BASE_URL } from './../utils/config';\r\n\r\nconst TourDetails = () => {\r\n  const { id } = useParams();\r\n  const reviewMsgRef = useRef('')\r\n  const {tourRating, setTourRating}= useState(null)\r\n\r\n  // fetch data from database\r\n  const {data:tour, loading, error } = useFetch(`${BASE_URL}/tours/${id}`);\r\n  // const tour = response?.data || [];\r\n  console.log(\"TPES\" + tour);\r\n\r\n  const { photo, title, desc, fasilitas, price, address, reviews, city, distance, maxGroupSize } = tour;\r\n\r\n  const { totalRating, avgRating } = calculateAvgRating(reviews);\r\n  \r\n  \r\n\r\n  //FORMAT DATE\r\n\r\n  const options ={day:'numeric', month:'long', year:'numeric'};\r\n   \r\n  // submit request to the server\r\n    const submitHandler = e => {\r\n      e.preventDefault()\r\n      const reviewText = reviewMsgRef.current.value \r\n  \r\n      // later \r\n    }\r\n\r\n    useEffect(()=>{\r\n      window.scrollTo(0,0)\r\n    },[])\r\n\r\n  // return (\r\n  //   <>\r\n  //     <section>\r\n  //       <Container>\r\n  //         {loading && <h4 className=\"text-center\">Loading. . . . . .</h4> }\r\n  //         { error && <h4 className=\"text-center\">{error}</h4>}\r\n  //         {!loading && !error &&         \r\n  //       <Row>\r\n  //         <Col lg=\"8\">\r\n  //           <div className=\"tour__content\">\r\n  //             <img src={photo} alt={title} />\r\n\r\n  //             <div className=\"tour__info\">\r\n  //               <h1>{title}</h1>\r\n\r\n  //               <div className=\"d-flex align-items-center gap-5\">\r\n  //                 <span className=\"tour__rating d-flex align-items-center gap-1\">\r\n  //                   <i className=\"ri-star-fill\" style={{ color: \"var(--secondary-color)\" }}></i>\r\n  //                   {avgRating === 0 ? null : avgRating}\r\n  //                   {totalRating === 0 ? (\"Not rated\") : (<span>({reviews.length})</span>)}\r\n  //                 </span>\r\n\r\n  //                 <span>\r\n  //                   <i className=\"ri-map-pin-user-fill\"></i> {address}\r\n  //                 </span>\r\n  //               </div>\r\n\r\n  //               <div className=\"tour__extra-details\">\r\n  //                 <span>\r\n  //                   <i className=\"ri-map-pin-2-line\"></i> {city}\r\n  //                 </span>\r\n  //                 <span>\r\n  //                   <i className=\"ri-wallet-3-line\"></i> {price} /pax\r\n  //                 </span>\r\n  //                 <span>\r\n  //                   <i className=\"ri-group-line\"></i> {maxGroupSize}\r\n  //                 </span>\r\n  //               </div>\r\n  //               <h5>Destinasi dan Fasilitas</h5>\r\n  //               <p>{desc}</p>\r\n  //               <p>{fasilitas}</p>\r\n  //             </div>\r\n\r\n  //             {/*============ tour reviews section ============ */}\r\n  //             <div className=\"tour__reviews mt-4\">\r\n  //               <h4>Reviews ({reviews?.length} reviews)</h4>\r\n\r\n  //               <Form onSubmit={submitHandler}>\r\n  //                 <div className='d-flex align-items-center gap-3 mb-4 rating__group'>\r\n  //                   <span onClick={()=> setTourRating(1)}>\r\n  //                     1 <i className=\"ri-star-fill\"></i></span>\r\n  //                   <span onClick={()=> setTourRating(2)}>\r\n  //                     2 <i className=\"ri-star-fill\"></i></span>\r\n  //                   <span onClick={()=> setTourRating(3)}>\r\n  //                     3 <i className=\"ri-star-fill\"></i></span>\r\n  //                   <span onClick={()=> setTourRating(4)}>\r\n  //                     4 <i className=\"ri-star-fill\"></i></span>\r\n  //                   <span onClick={()=> setTourRating(5)}>\r\n  //                     5 <i className=\"ri-star-fill\"></i></span>\r\n  //                 </div>\r\n\r\n  //                 <div className=\"review__input-container\">\r\n  //                   <input className=\"review__input\" type=\"text\" ref={reviewMsgRef} placeholder=\"Tulis pengalamanmu bersama Voyago\" \r\n  //                   required />\r\n  //                   <div className=\"btn-container\">\r\n  //                     <button className=\"btn primary__btn text-white\" type=\"submit\">\r\n  //                       Submit\r\n  //                     </button>\r\n  //                   </div>\r\n  //                 </div>\r\n  //               </Form>\r\n\r\n  //               <ListGroup className=\"user__reviews\">\r\n  //                 {reviews?.map(review => (\r\n  //                   <div className=\"review__item\">\r\n  //                     <img src={avatar} alt=\"\" />\r\n\r\n  //                     <div className=\"w-100\">\r\n  //                       <div className=\"d-flex align-items-center justify-content-between\">\r\n  //                         <div>\r\n  //                           <h5>Radika</h5>\r\n  //                           <p>{new Date('01-20-2023').toLocaleDateString(\"en-US\",options)}</p>\r\n  //                         </div>\r\n  //                         <span className='d-flex align-items-center'>\r\n  //                         5 <i className=\"ri-star-fill\"></i>\r\n  //                         </span>\r\n  //                       </div>\r\n\r\n  //                       <h6>\r\n  //                         Pengalaman yang seru liburan bersama VoyaGo!\r\n  //                       </h6>\r\n  //                     </div>\r\n  //                   </div>\r\n  //                 ))}\r\n  //               </ListGroup>\r\n  //             </div>\r\n  //             {/*============ tour reviews section ============ */}\r\n  //           </div>\r\n  //         </Col>\r\n\r\n  //         <Col lg='4'>\r\n  //           <Booking tour = {tour} avgRating = {avgRating}/>\r\n\r\n  //         </Col>\r\n  //       </Row>\r\n  //       }\r\n  //       </Container>\r\n  //     </section>\r\n  //     <Newsletter />\r\n  //   </>\r\n  // );\r\n};\r\n\r\nexport default TourDetails;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAM,OAAO;AACvD,OAAO,4BAA4B;AACnC,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,SAAS,QAAQ,YAAY;AACjE,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,kBAAkB,MAAM,oBAAoB;AACnD,OAAOC,MAAM,MAAM,6BAA6B;AAChD,OAAOC,OAAO,MAAM,+BAA+B;AACnD,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,SAASC,QAAQ,QAAQ,mBAAmB;AAE5C,MAAMC,WAAW,GAAG,MAAM;EAAA;EACxB,MAAM;IAAEC;EAAG,CAAC,GAAGR,SAAS,EAAE;EAC1B,MAAMS,YAAY,GAAGhB,MAAM,CAAC,EAAE,CAAC;EAC/B,MAAM;IAACiB,UAAU;IAAEC;EAAa,CAAC,GAAEjB,QAAQ,CAAC,IAAI,CAAC;;EAEjD;EACA,MAAM;IAACkB,IAAI,EAACC,IAAI;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGV,QAAQ,CAAE,GAAEC,QAAS,UAASE,EAAG,EAAC,CAAC;EACxE;EACAQ,OAAO,CAACC,GAAG,CAAC,MAAM,GAAGJ,IAAI,CAAC;EAE1B,MAAM;IAAEK,KAAK;IAAEC,KAAK;IAAEC,IAAI;IAAEC,SAAS;IAAEC,KAAK;IAAEC,OAAO;IAAEC,OAAO;IAAEC,IAAI;IAAEC,QAAQ;IAAEC;EAAa,CAAC,GAAGd,IAAI;EAErG,MAAM;IAAEe,WAAW;IAAEC;EAAU,CAAC,GAAG5B,kBAAkB,CAACuB,OAAO,CAAC;;EAI9D;;EAEA,MAAMM,OAAO,GAAE;IAACC,GAAG,EAAC,SAAS;IAAEC,KAAK,EAAC,MAAM;IAAEC,IAAI,EAAC;EAAS,CAAC;;EAE5D;EACE,MAAMC,aAAa,GAAGC,CAAC,IAAI;IACzBA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,UAAU,GAAG5B,YAAY,CAAC6B,OAAO,CAACC,KAAK;;IAE7C;EACF,CAAC;;EAED/C,SAAS,CAAC,MAAI;IACZgD,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAC,CAAC,CAAC;EACtB,CAAC,EAAC,EAAE,CAAC;;EAEP;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,CAAC;AAAC,GA/IIlC,WAAW;EAAA,QACAP,SAAS,EAKaK,QAAQ;AAAA;AAAA,KANzCE,WAAW;AAiJjB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}